(function(t,n,e){t(function(){var r=n.requestAnimationFrame||n.webkitRequestAnimationFrame||function(t){n.setTimeout(t,16)};var o=function(){var t={};var n=e.createElement("div"),r=["webkit","moz","MS","o",""];var o=function(t){return t.charAt(0).toUpperCase()+t.substr(1)};var a=function(t,n){for(var e=0,r=t.length;e<r;e++){if(n(t[e],e)){return true}}return false};var i=function(t){if(n.style[t]!==undefined){return t}else{var e;a(r,function(r){var a=o(r)+o(t);if(n.style[a]!==undefined){e="-"+r+"-"+t;return true}});return e}};var s=function(t){return a(t,function(t){return n.style[t]!==undefined})};var h=function(t,e){return a(e,function(e){n.style[t]=e;var r=n.style[t];return r===e})};t.some=a;t.getCSSVal=i;t.hasProp=s;t.supportProp=h;return t}(undefined);function a(){return this instanceof a?this.init.call(this,arguments):new a(arguments)}a.prototype={contructor:a,init:function(){var t=this;t.heart()},heart:function(){var n=this,e=t("#J_heart"),r=t("#J_canvas"),o=r[0],a,i,s,h,d,c;resize=function(){d=e.width()/2;c=e.height()/2-25;o.width=e.width();o.height=e.height();s=o.getContext("2d");s.globalCompositeOperation="lighter";h=new Garden(s,o)};a=function(t){var n=t/Math.PI,e=window.innerWidth/375,r=e*10.6*(16*Math.pow(Math.sin(n),3)),o=-e*10*(13*Math.cos(n)-5*Math.cos(2*n)-2*Math.cos(3*n)-Math.cos(4*n));return[d+r,c+o]};i=function(){var t=50,e=10,r=[];var o=setInterval(function(){var t=a(e),i=true;for(var s=0;s<r.length;s++){var d=r[s];var c=Math.sqrt(Math.pow(d[0]-t[0],2)+Math.pow(d[1]-t[1],2));if(c<Garden.options.bloomRadius.max*1.3){i=false;break}}if(i){r.push(t);h.createRandomBloom(t[0],t[1])}if(e>=30){clearInterval(o);n.time()}else{e+=.2}},t)};resize();i();setInterval(function(){h.render()},Garden.options.growSpeed)},time:function(){var n=this,e=t("#J_time"),r=t(".j_info",e),a=t(".j_count",e),i=t(".j_text",e),s="fadeIn",h=o.hasProp(["animation"])?"animationend":"webkitAnimationEnd";r.addClass(s);a.addClass(s);a[0].addEventListener(h,function(t){t.currentTarget.removeEventListener(h,arguments.callee);i.addClass(s)},false);i[0].addEventListener(h,function(t){t.currentTarget.removeEventListener(h,arguments.callee);n.cake()},false)},cake:function(){var n=this,e=t("#J_cake"),r=t("#J_textarea");e.html(r.text())}};new a})})(Zepto,window,document,undefined);